<!-- header -->
<div class="header">
  <!-- upper header -->
  <app-top-header></app-top-header>
  <!-- middle header -->
  <div class="header__middle container">
    <!-- logo -->
    <a href="#" class="header__logo-box">
      <img class="header__logo" src="../../../assets/img/logo.png" alt="" />
    </a>
    <!-- user options -->
    <div class="header__user-options">
      <!-- login control -->
      <a routerLink="login" class="link">Login</a>
      <div class="dropdown">
        <div class="dropdown__header">
          <div
            class="image image--small image--circle"
            style="
              background-image: url('../../../assets/images/profile-image.jpg');
            "
          ></div>
        </div>
        <div class="dropdown__body"></div>
      </div>
      <!-- shopping card dropdown -->
      <!-- dropdown--opened to open -->

      <app-dropdown>
        <ng-container class="header">
          <!-- header -->
          <div class="dropdown__header">
            <div
              class="image image--small"
              style="
                background-image: url('../../../assets/img/icons/icon-cart-big.png');
              "
            >
              <div class="notification notification--danger">
                {{ newCart ? newCart.length : 0 }}
              </div>
            </div>
          </div>
        </ng-container>

        <ng-container class="body">
          <!-- body -->
          <div class="dropdown__body">
            <!-- items -->
            <ul class="dropdown__items list list--vr-separator">
              <li
                *ngFor="let item of newCart; let i = index"
                class="dropdown__item list__item"
              >
                <!-- item small 2 -->
                <div class="item-small-1">
                  <!-- item data -->
                  <div class="item-small-1__data">
                    <!-- title -->
                    <a href="" class="item-small-1__title">{{
                      item.data[0].name
                    }}</a>
                    <!-- price -->
                    <span class="item-small-1__description">
                      {{ item.quantity }} X EGP{{
                        item.discount ? item.price - item.discount : item.price
                      }}
                    </span>
                  </div>
                  <!-- item image -->
                  <div class="item-small-1__image-box">
                    <a
                      href="#"
                      class="item-small-1__image image"
                      [style.backgroundImage]="
                        'url(' + item.imagesUrls[0] + ')'
                      "
                    >
                    </a>
                    <a (click)="removeItem(i)" class="item-small-1__action">
                      <i class="fas fa-times"></i>
                    </a>
                  </div>
                </div>
              </li>
            </ul>
            <!-- totals -->
            <div class="separator"></div>
            <div *ngIf="calculateTotalAmount() > 0" class="block">
              <span class="lable">Total:</span>
              <span class="lable"
                >{{ calculateTotalAmount() | currency: "EGP":"symbol" }}
              </span>
            </div>
            <!-- actions -->
            <div class="block list list--hr">
              <a class="list-item btn btn--gray" href="">View Cart</a>
              <a class="list-item btn btn--primary" href="">Checkout</a>
            </div>
          </div>
        </ng-container>
      </app-dropdown>

      <!-- <div
        class="dropdown dropdown--left"
        [ngClass]="{ 'dropdown--opened': toggleClass }"
        (click)="toggleClass = !toggleClass"
      >



      </div> -->
    </div>
  </div>
  <!-- lower header -->
</div>
